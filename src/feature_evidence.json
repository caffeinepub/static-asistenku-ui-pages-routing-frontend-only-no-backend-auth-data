{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-update-frontend-src-pages-internal-internallogin-tsx-so-the-claim-superadmin-action-calls-only-the-backend-method-actor-claimsuperadmin-and-does-not-call-directly-or-indirectly-from-this-click-handler-any-profile-role-assignment-methods-such-as-savecalleruserprofile-that-can-trigger-the-backend-error-unauthorized-only-admins-can-assign-user-roles",
      "featureTitle": "Update `frontend/src/pages/internal/InternalLogin.tsx` so the \"Claim Superadmin\" action calls ONLY the backend method `actor.claimSuperadmin()` and does not call (directly or indirectly from this click handler) any profile/role-assignment methods such as `saveCallerUserProfile()` that can trigger the backend error \"Unauthorized: Only admins can assign user roles\".",
      "files": [
        "frontend/src/pages/internal/InternalLogin.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-91"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-in-frontend-src-pages-internal-internallogin-tsx-add-a-one-time-on-mount-check-that-calls-actor-issuperadminclaimed-exactly-once-when-an-actor-is-available-and-uses-its-result-to-set-superadminclaimed-so-the-claim-ui-is-only-offered-when-superadmin-has-not-yet-been-claimed",
      "featureTitle": "In `frontend/src/pages/internal/InternalLogin.tsx`, add a one-time on-mount check that calls `actor.isSuperadminClaimed()` exactly once (when an actor is available) and uses its result to set `superadminClaimed`, so the claim UI is only offered when superadmin has not yet been claimed.",
      "files": [
        "frontend/src/pages/internal/InternalLogin.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-92"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-harden-frontend-src-pages-internal-internallogin-tsx-against-actor-readiness-issues-prevent-backend-calls-for-claim-check-actions-when-the-actor-is-still-initializing-and-show-a-non-crashing-inline-warning-instead-of-attempting-the-call",
      "featureTitle": "Harden `frontend/src/pages/internal/InternalLogin.tsx` against actor readiness issues: prevent backend calls for claim/check actions when the actor is still initializing, and show a non-crashing inline warning instead of attempting the call.",
      "files": [
        "frontend/src/pages/internal/InternalLogin.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-93"
      ],
      "confidence": "high"
    }
  ]
}